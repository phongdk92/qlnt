{% extends "base.html" %}

{% block content %}

<script>
function confirmDelete()
{
    return confirm("Bạn có chắc chắn xóa không?");
}
</script>
<h1>Danh sách môn học lớp {{cl}} học kì {{term}}</h1>
<table class="styleA" width = "75%" align = "left">
    <tr>
		<th width="5%"> STT </td>
        <th align="center" width="20%"> <a href="{%url school.views.school_index  %}subjectPerClass/{{class_id}}/1/{{next_status}}">Tên Môn Học</a></th>
        <th align="center" width="10%"> <a href="{%url school.views.school_index  %}subjectPerClass/{{class_id}}/2/{{next_status}}">Hệ số </a></th>
        <th align="center" width="25%"> <a href="{%url school.views.school_index  %}subjectPerClass/{{class_id}}/3/{{next_status}}">Giáo viên</a></th>
		<th align="center" width="10%"></th>
        {%if pos > 1%}
            <th width = "5%"> </th>
        {%endif%}
    </tr>

    {% if message != None %}
    {{message}}
    <br>
    {% endif %}

    <form action="/school/subjectPerClass/{{class_id}}" method="post">{% csrf_token %}
        {% for ss,f in list %}
        <tr>
            <td width="5%">{{forloop.counter}} </td>
            <td align="center" width="20%"> {{ss.name}}</td>
            {%if pos > 1%}
                <td align="center" width="10%"> {{f.hs}} </td>
                <td align="center" width="25%"> {{f.teacher_id}}</td>
            {%else%}
                <td align="center" width="10%"> {{ss.hs}} </td>
                <td align="center" width="25%"> {{ss.teacher_id}}</td>
            {%endif%}
            <td align="center" width="10%"> <a href="{%url school.views.school_index  %}markForASubject/{{ss.id}}"> Điểm </a></td>
            {%if pos > 1%}
            <td width = "5%"> <a href = "{%url school.views.school_index  %}deleteSubject/{{ss.id}}" onclick="return confirmDelete();">xóa</a></td>
            {%endif%}
        </tr>
        {% endfor %}
    {%if pos > 1%}
        <tr>
            {{ form.non_field_errors }}
			<td width="5%"> </td>
            <td align="center" width="20%">
                    {{ form.name.errors }}
                    <p>{{ form.name }}</p>
            </td>
            
            <td align="center" width="10%">
                    {{form.hs.errors }}
                    <p>{{ form.hs }}</p>
            </td>

            <td align="center" width="25%">
                    {{ form.teacher_id.errors }}
                    <p>{{ form.teacher_id }}</p>
            </td>
			<td width="10%"><input type ="submit" value="Thêm/Lưu Lại"/></td>            
            <td width = "5%" align = "left"></td>
        		

        </tr>
    {%endif%}
</table>
<table border = "0" width = "75%" align = "center">
        <tr>
        		<td width = "5%" align = "left">&nbsp</td>
        		<td align = "right"> <a href = ""> Xuất ra excel </a> </td>
			</form>
        </tr>
</table
{% endblock %}
