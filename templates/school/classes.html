{% extends "school/base_school.html" %}

{% block content %}
{% if message != None %}
{{message}}
{% endif %}

<script>
function confirmDelete()
{
    return confirm("Are you sure you wish to delete this class?");
}
</script>

<table border=1 width = "100%" align = "center">
	<tr>
		<td align="center" width="5%"> STT</td>
		<td align="center" width="20%"><a href="{%url school.views.school_index  %}classes/1/{{next_status}}/1"> Tên Lớp </a></td>
		<td align="center" width="20%"><a href="{%url school.views.school_index  %}classes/2/{{next_status}}/1"> Khối </a></td>
		<td align="center" width="25%"><a href="{%url school.views.school_index  %}classes/3/{{next_status}}/1">Giáo Viên Chủ Nhiệm</a></td>
		<td align="center" width="20%"><a href="{%url school.views.school_index  %}classes/4/{{next_status}}/1"> Năm </a></td>
		<td align="center" width="10%"></td>
	</tr>
	<form action="/school/classes/{{sort_type}}/{{sort_status}}/{{classList.number}}" method="post">{% csrf_token %}
	{% for class, f in list %}
	<tr>
		<td align="center" width="5%"> {{forloop.counter}}</td>
		<td align="center" width="20%"> <a href="{%url school.views.school_index  %}viewClassDetail/{{class.id}}" >{{class.name}} </a></td>
		<td align="center" width="20%"> {{class.block_id}} </td>
		<td align="center" width="25%"> {{f.teacher_id}} </td>
		<td align="center" width="20%"> {{class.year_id}} </td>
		<td align="center" width="10%"> <a href="{%url school.views.school_index  %}deleteClass/{{class.id}}" onclick="return confirmDelete();"> xóa </a></td>
	</tr>
	{% endfor %}
	<tr align = "right" width = "100%">
		<td width = "100%" colspan = 6>
		<div class = "pagination">
		<span class = "step-links">
			{% if classList.has_previous %}
				<a href = "{%url school.views.school_index  %}classes/{{sort_type}}/{{sort_status}}/{{classList.previous_page_number}}"> Trang trước </a>
			{% endif %}
			
			<span class = "current">
				Trang {{classList.number}} trên {{classList.paginator.num_pages}}.
			</span>
			
			{% if classList.has_next %}
				<a href = "{%url school.views.school_index  %}classes/{{sort_type}}/{{sort_status}}/{{classList.next_page_number}}"> Trang sau </a>
			{% endif %}
		</span>
		</div>
		</td>
	</tr>
	</table>
	<table border = 0 width = "100%" align = "center">
	<tr>
		<td width = "5%"> </td>
  		{{ form.non_field_errors }}
  		<td align="center" width="20%">
  		<div class="fieldWrapper">
    		{{ form.name.errors }}
    		<label for="id_name">
    		<p>{{ form.name }}</p>
  		</div>
			</td>
		
		<td align="center" width="20%">
		<div class="fieldWrapper">
			{{ form.block_id.errors }}
			<label for="id_block_id">
			<p>{{ form.block_id }}</p>
		</div>
		</td>
  	
		<td align="center" width="25%">
			<div class="fieldWrapper">
			{{ form.teacher_id.errors }}
			<label for="id_teacher_id">
			<p>{{ form.teacher_id }}</p>
			</div>
		</td>
		
		<td align="center" width="20%">
		<div class="fieldWrapper">
			{{ form.year_id.errors }}
			<label for="id_year_id">
			<p>{{ form.year_id }}</p>
		</div>
		</td>
		
		<td align = "center" width="10%">
		</td>
	</tr>
</table>
<p><input type="submit" value="Thêm" /></p>
</form>
{% endblock %}
